### Strategy Instructions for Backtesting: Mastering Market Structure

#### 1. **Key Strategy Components**
   - **Market Structure Identification**: Identify external swing highs and lows to determine the directional bias (bullish or bearish).
   - **Premium and Discount Zones**: Use Fibonacci retracement levels to define premium (above 50%) and discount (below 50%) zones within a price leg.
   - **Confluence Areas**: Identify key areas of interest (order blocks or fair value gaps) within the discount zone for high-probability entries.
   - **Multi-Timeframe Analysis**: Use lower timeframes (e.g., 1-minute) to confirm entries when price aligns with confluence areas on higher timeframes (e.g., 15-minute).

---

#### 2. **Entry Rules**
   - **Step 1: Identify Market Structure**
     - Map external swing highs and lows to determine the current trend (bullish or bearish).
     - Bullish Structure: Higher highs and higher lows.
     - Bearish Structure: Lower highs and lower lows.
   - **Step 2: Define Premium and Discount Zones**
     - Use Fibonacci retracement tool from the swing low to the swing high.
     - Discount Zone: Below 50% retracement (ideal for buying in bullish trends or selling in bearish trends).
   - **Step 3: Locate Confluence Areas**
     - Look for order blocks or fair value gaps within the discount zone.
     - Order Block: A 3-candle formation with aggressive momentum (e.g., bearish-bullish-bullish).
     - Fair Value Gap: A gap between the wicks of three candles (e.g., bullish-bullish-bullish).
   - **Step 4: Multi-Timeframe Confirmation**
     - Wait for price to enter the confluence area on the higher timeframe (e.g., 15-minute).
     - Switch to a lower timeframe (e.g., 1-minute) and wait for a structural shift (e.g., bullish reversal in a bullish trend).
     - Enter the trade when the lower timeframe confirms the reversal.

---

#### 3. **Exit Rules**
   - **Take Profit**:
     - Target the next external swing high (in bullish trends) or swing low (in bearish trends).
     - For partial profit-taking, close 50% of the position at a 5:1 risk-reward ratio.
     - Let the remaining position run to the full target (e.g., next swing high/low).
   - **Stop Loss**:
     - Place the stop loss below the confluence area (e.g., below the order block or fair value gap).
     - Ensure the stop loss is within the discount zone to maintain a favorable risk-reward ratio.

---

#### 4. **Risk Management**
   - **Position Sizing**:
     - Risk no more than 1% of the account per trade.
   - **Risk-Reward Ratio**:
     - Aim for a minimum of 1:2 risk-reward ratio.
     - Optimize for higher ratios (e.g., 1:5 or 1:7) by refining entries using multi-timeframe analysis.
   - **Stop Loss Placement**:
     - Place stop losses below confluence areas to protect against invalid trade setups.

---

#### 5. **Required Indicators**
   - **Fibonacci Retracement Tool**:
     - Used to define premium and discount zones within a price leg.
   - **Price Action Tools**:
     - Order Blocks: Identify 3-candle formations with aggressive momentum.
     - Fair Value Gaps: Identify gaps between candle wicks in a 3-candle sequence.
   - **Multi-Timeframe Analysis**:
     - Use higher timeframes (e.g., 15-minute) for trend identification and lower timeframes (e.g., 1-minute) for entry confirmation.

---

### Example Trade Setup (Bullish Trend)
1. **Identify Market Structure**:
   - Swing Low: $100
   - Swing High: $120
   - Confirmed bullish structure (higher highs and higher lows).
2. **Define Premium and Discount Zones**:
   - Fibonacci retracement from $100 to $120.
   - Discount Zone: Below $110 (50% retracement).
3. **Locate Confluence Area**:
   - Order Block at $105 (within the discount zone).
4. **Multi-Timeframe Confirmation**:
   - Wait for price to reach $105 on the 15-minute chart.
   - Switch to the 1-minute chart and wait for a bullish reversal (e.g., higher low formation).
5. **Enter Trade**:
   - Buy at $105 with a stop loss at $103 (below the order block).
   - Target the next swing high at $120.
6. **Exit Trade**:
   - Close 50% of the position at $115 (5:1 risk-reward).
   - Let the remaining position run to $120.

---

### Notes for Backtesting
- Test the strategy across multiple instruments and timeframes to ensure robustness.
- Focus on trades with clear confluence areas and multi-timeframe confirmations.
- Avoid trades where confluence areas overlap or are unclear.
- Adjust stop loss and take profit levels based on volatility and market conditions.